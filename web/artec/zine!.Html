<!DOCTYPE html>

<html>
	<head>
		<title>
			Zine!
		</title>

		<meta charset="UTF-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<meta name="author" content="Akira Demenech">
		<meta name="description" content="Zine! description">

		<style> 
			 
			body {
				margin: 0;
				padding: 0;
			}

			.margens-internas {
				padding: 5%;																
			}

			.margens-externas {
				margin: 3%;				
			}

			.invertido {
				transform: rotate(0.5turn);
			}
			
			/* Estilos para a impressão */ 
			@media print { 
				@page { 
					size: landscape; /* Define o layout da página como paisagem */ 					
				}	
				
				
				.imprime { 
					display: block; 
				} 
				
				/* Estilos para a tela */
				.tela { 
					display: none; 					
				} 
			} 

			

			.pagina {
				width: 25%;
				padding-bottom: 35.35%;
				float: left; /* Faz com que os blocos flutuem à esquerda */
				position: relative;
			} 
			.conteudo {
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				overflow: hidden;
				position: absolute;
				object-fit: cover; /* Redimensiona a imagem para cobrir a área */
			}
		</style>
	</head>

	<body>
		
		<div class='tela margens-externas'>
			<h1>
				<place id='n0'></place> 
				amigues se reúnem secretamente
				<br> <place id='n1'></place> 
				presentes são trocados
			</h1>

			<h2>	
				São  
				<place id='n!^4 text'></place> 
				possibilidades de quem dá qual presente pra quem (com qual imagem)

				<center>
					(<place id='n2'></place>!)<sup id='e0'></sup>
					= (<place id='n! prod'></place>)<sup id='e1'></sup>
					= <place id='n!'></place><sup id='e2'></sup>
					= <place id='n!^4'></place>
				</center>

				Cada exemplar tem 
				<place id='n3'></place> 
				páginas 
				<b>exclusivas</b>
				de  
				<place id='n^4'></place>
				possíveis 
				(<place id='n4'></place><sup id='e3'></sup>)
			</h2>

			<h3>
				<code>
					Produto livre de IA
					<br> Produção colaborativa 
					com algoritmo artesanal 
					e imagens selecionadas
				</code>
			</h3>

			
			Os zines são gerados por um 
			<i>script</i> em Python e 
			renderizados com LaTeX: 
			<a href='https://github.com/AkiraDemenech/o_fabuloso_gerador_de_minizine'>github.com/AkiraDemenech/o_fabuloso_gerador_de_minizine</a>
				
			<p>	
				<a href='https://akirademenech.github.io/artec/zine!.Html'>
					<img src='zine!.svg' id='qr'/>
				</a>	
			</p>	
		</div>

		<script>

			const n = 6
			const e = 4
			formato = Intl.NumberFormat('pt-BR')

			var numberplaces = ['n0', 'n1', 'n2', 'n3', 'n4']
			for(c = 0; c < numberplaces.length; c++) 
				document.getElementById(numberplaces[c]).appendChild(document.createTextNode(n))
				
			var numbersup = ['e0', 'e1', 'e2', 'e3']
			for(c = 0; c < numbersup.length; c++) 
				document.getElementById(numbersup[c]).appendChild(document.createTextNode(e))
			

			var fatorial = 1
			var produto = document.getElementById('n! prod')
			for(k = n; k > 1; k--) {
				fatorial *= k
				produto.appendChild(document.createTextNode(k + ' \xd7 '))	
			}
			produto.appendChild(document.createTextNode(1))
			document.getElementById('n!').appendChild(document.createTextNode(formato.format(fatorial)))

			var np = 1
			var nf = 1
			for(c = 0; c < e; c++) {
				np *= n
				nf *= fatorial
			}
				
			document.getElementById('n^4').appendChild(document.createTextNode(formato.format(np)))
			document.getElementById('n!^4').appendChild(document.createTextNode(formato.format(nf)))

				
			const grandeza = {0: '',
				1: 'mil',
				2: 'milhões',
				3: 'bilhões',
				4: 'trilhões',
				5: 'quadrilhões',
				6: 'quintilhões',
				7: 'sextilhões',
				8: 'septilhões',
				9: 'octilhões' // */
			}
			var esc = []
			d = 2
			 
			while(nf >= 1000) {
				g = 0
				m = 1
				d = 1
				while(nf > m && grandeza[g] != undefined) {										
					g++					
					d = m
					m *= 1000				
				}
				
				esc[esc.length] = g - 1
				if(d <= 1) 
					break
				nf /= d
				console.log(nf,d,g, esc)
			}

			
			nt = document.getElementById('n!^4 text')
			if (nf % 1)
				nt.appendChild(document.createTextNode('mais de '))						
			nt.appendChild(document.createTextNode(Math.floor(nf)))
			while(esc.length) {
				g = esc.pop()
				nt.appendChild(document.createTextNode('\t' + grandeza[g]))
				if (g > 1)
					nt.appendChild(document.createTextNode(' de'))
			}	

			document.getElementById('qr').style.height = (window.innerHeight / 3) + 'px'
		</script>

		<div class='tela margens-externas'>
			<p>
				Até esta parte da página não será impressa.
			</p>

			<button onclick='window.print()'>
				Imprimir
			</button>
		</div>

		<div class='imprime' id='zine'>			 
			
			<div class='pagina invertido'>
				<div class='conteudo margens-internas'>
					Página 1						
				</div>
			</div>
			
			<div class='pagina invertido'>
				<div class='conteudo margens-internas'>
					Página 8											
				</div>
			</div>
			
			<div class='pagina invertido'>
				<div class='conteudo margens-internas'>
					Página 7	
				</div>
			</div>
			
			<div class='pagina invertido'>
				<div class='conteudo margens-internas'>
					Página 6	
				</div>
			</div>
			
			<div class='pagina'>
				<div class='conteudo margens-internas'>
					Página 2	
				</div>
			</div>
			
			<div class='pagina'>
				<div class='conteudo margens-internas'>
					Página 3	
				</div>
			</div>
			
			<div class='pagina'>
				<div class='conteudo margens-internas'>
					Página 4	
				</div>
			</div>
			
			<div class='pagina'>
				<div class='conteudo margens-internas'>
					Página 5	
				</div>
			</div></div>

		<script>
			zine = document.getElementById('zine')

			function limpar (elemento) {
				while(elemento.childNodes.length)
					elemento.childNodes[0].remove()
			} 

			console.log('Larguras:\t',window.innerWidth, document.documentElement.clientWidth, document.body.clientWidth)

			

			for(c = 0; c < zine.childNodes.length; c++) 
				if(zine.childNodes[c].nodeName == 'DIV')
					zine.childNodes[c].style.background = 'rgb('+c*255/zine.childNodes.length+', '+(Math.random()*255)+', '+(zine.childNodes.length-c)*255/zine.childNodes.length+')'
				
			

		//	limpar(zine)	
		</script>
	</body>
</html>